```markdown
# MLOps Homework 1

## Цель проекта
Создание воспроизводимого пайплайна машинного обучения с использованием DVC для версионирования данных и MLflow для трекинга экспериментов. Проект демонстрирует основные практики MLOps: версионирование данных, автоматизация пайплайнов, логирование экспериментов и обеспечение воспроизводимости.

## Как запустить

1. **Клонируйте репозиторий и перейдите в директорию проекта:**
```bash
git clone <repository-url>
cd mlops_hw1
```

2. **Установите зависимости:**
```bash
pip install -r requirements.txt
```

3. **Загрузите данные через DVC:**
```bash
dvc pull
```

4. **Запустите полный пайплайн:**
```bash
dvc repro
```

5. **Запустите MLflow UI для просмотра экспериментов:**
```bash
mlflow ui --backend-store-uri sqlite:///mlflow.db
```

6. **Откройте браузер для просмотра результатов:**
```bash
# Перейдите по адресу: http://localhost:5000
```

## Краткое описание пайплайна

Пайплайн состоит из двух основных стадий, описанных в `dvc.yaml`:

### Стадия Prepare (`src/prepare.py`)
- загрузка исходных данных из `data/raw/data.csv`
- автоматическое определение целевой переменной
- базовая очистка данных (удаление пропусков)
- разделение на train/test с использованием параметров из `params.yaml`
- Сохранение обработанных данных в `data/processed/`

### Стадия Train (`src/train.py`)
- загрузка подготовленных данных
- обучение модели (LogisticRegression или RandomForest)
-  логирование параметров, метрик и артефактов в MLflow
- сохранеение обученной модели в `model.pkl`

### Управление параметрами
асе гиперпараметры управляются через `params.yaml`:
- `prepare.split_ratio` - соотношение разделения train/test
- `prepare.random_state` - seed для воспроизводимости
- `train.model_type` - тип модели для обучения
- `train.random_state` - seed для модели

## Где смотреть UI MLflow

После выполнения команды `mlflow ui` интерфейс MLflow будет доступен по адресу:  
**http://localhost:5000**

В UI MLflow вы можете:
- просматривать все эксперименты и runs
- анализировать логируемые параметры и метрики
- сравнировать разные запуски пайплайна
- скачать артефакты (модели, отчеты)
- просматривать визуализации метрик

## Структура проекта

```
.
├── data/
│   ├── raw/           # исходные данные (версионируются через DVC)
│   └── processed/     # обработанные данные
├── src/
│   ├── prepare.py     # скрипт подготовки данных
│   └── train.py       # скрипт обучения модели
├── dvc.yaml           # Описание пайплайна DVC
├── params.yaml        # параметры проекта
├── requirements.txt   # зависимости Python
└── README.md         # Доки
```

## Воспроизводимость

Проект гарантирует полную воспроизводимость результатов:
- Все данные версионируются через DVC
- Пайплайн автоматически управляет зависимостями
- Фиксированные random_state обеспечивают детерминированность
- MLflow отслеживает все изменения параметров и метрик

Для полного воспроизведения на новой машине достаточно выполнить:
```bash
git clone <repo> && cd <repo>
pip install -r requirements.txt
dvc pull
dvc repro
```

## Технологии
- **DVC** - версионирование данных и пайплайны
- **MLflow** - трекинг экспериментов
- **Scikit-learn** - машинное обучение
- **Pandas** - обработка данных
